# 스트레스 테스트 스크립트
- [코드 링크](https://github.com/Pentagon03/Algorithms/blob/master/Etc/stress.py)
- 원하는 코드를 올바른 출력과 자동으로 비교하는 스트레스 테스터입니다.
- 자유롭게 파일을 수정해도 됩니다. 배포 시 이 파일을 출처를 남겨 주세요.

## 사용법
- 입력파일 또는 테스트 제너레이터가 준비되어 있어야 합니다.
- 출력파일 또는 (브루트포스) 솔루션 코드가 준비되어 있어야 합니다.
- 이제 준비한 모든 파일을 한 폴더에 넣습니다.
- "파일 규칙"을 참고해주세요.
- 파이썬 파일 내부에서 stress_test 함수를 원하는 인자에 따라 호출하거나, 아래 커맨드를 사용합니다.
```bash
python stress.py <file_name> <start_index> <solution_file> <generator_file> 
```

### 파일 규칙
- 입력 파일: `{번호}.in`
- 정답 파일: `{번호}.ans`
- 실행파일, 제너레이터, 솔루션은 모두 컴파일되어 있어야 합니다.
- 실행파일의 기본값은 `sol`입니다.
- 솔루션과 제너레이터의 기본값은 `{실행파일이름}_sol`와 `{실행파일이름}_gen`. 입니다.
- 사용자 출력 파일 `{번호}.my`가 자동으로 생성됩니다.
- 제너레이터 파일보다 기존 .in 파일이 우선순위가 높습니다.
- 기존 .ans 파일보다 솔루션 파일이 우선순위가 높습니다.

### 매개변수
- `<file_name>`: 스트레스 테스트를 수행할 프로그램의 파일 이름 (기본값: "sol").
- `<start_index>`: 테스트 케이스 시작 번호 (기본값: 1).
- `<solution_file>`: (브루트포스) 솔루션 파일 이름 (기본값: {file_name}_sol)
- `<generator_file>`: 제너레이터 파일 이름 (기본값: {file_name}_gen)

## 예제

### 예제 1: 기본 사용법
```bash
python stress.py
```
- `sol` 프로그램을 사용하여 1번 테스트 케이스부터 스트레스 테스트를 수행합니다.
- 폴더 안에 `{번호}.in` 파일과 `{file_name}_gen`이 모두 존재하지 않으면 프로그램이 중지됩니다.
- 폴더 안에 `{번호}.ans` 파일과 `{file_name}_sol`이 모두 존재하지 않으면 프로그램이 중지됩니다.
- 테스트 케이스 출력과 정답 파일의 출력이 다를 경우 중지됩니다.

### 예제 2: 제너레이터 사용
```bash
python stress.py A 1 A_slow
```
- `A` 프로그램을 사용하여, 1번 테스트 케이스부터 스트레스 테스트를 수행합니다.
- `A_slow`라는 브루트포스 솔루션으로 정답을 생성합니다.

### 예제 3: 시작 번호 변경
```bash
python stress.py sol 5
```
- 5번 테스트 케이스부터 시작하여 `sol` 프로그램으로 스트레스 테스트를 수행합니다.

### 예제 4: 솔루션 및 제너레이터 명시
```bash
python stress.py B 1 B_slow B_gen
```
- `B` 프로그램으로 스트레스 테스트를 진행합니다.
- `B_gen` 제너레이터로 입력을 생성하고, `B_slow` 솔루션으로 정답을 확인합니다.

### 예제 5: 기본 솔루션 파일 사용
```bash
python stress.py C 3
```
- `C` 프로그램을 사용하고 3번 테스트 케이스부터 스트레스 테스트를 수행합니다.
- `C_slow` 솔루션으로 정답을 생성합니다.

### 예제 6: 솔루션 파일 지정 없이 시작
```bash
python stress.py D
```
- `D` 프로그램으로 스트레스 테스트를 1번 테스트 케이스부터 수행합니다.
- 기본적으로 `D_sol` 솔루션으로 정답을 비교합니다.

### 예제 7: 테스트 파일이 없는 경우 자동 생성
```bash
python stress.py E 2 E_slow E_gen
```
- `E_gen` 제너레이터가 없는 테스트 파일을 생성하고, `E_slow` 솔루션으로 정답을 생성합니다.
- 2번 테스트 케이스부터 시작합니다.

## 주의 사항
- 모든 입력, 출력 파일과 스크립트는 동일한 디렉토리에 위치해야 합니다.
- 최신 코드를 컴파일하여 실행 파일을 생성해야 합니다.
- 예상 출력과 정답이 다르면 프로그램이 중지됩니다.
- 입력 파일이 없으면 제너레이터가 자동으로 생성합니다.
- 솔루션 실행파일이 있는 경우 정답 파일 존재와 무관하게 생성합니다.

# 도움
- [Coxie](https://blog.naver.com/fkddl1436)님께 스트레스테스터에 대한 영감을 받았습니다.